/*
 * Responsively Lazy
 * http://ivopetkov.com/b/lazy-load-responsive-images/
 * Copyright 2015-2016, Ivo Petkov
 * Free to use under the MIT license.
*/
responsivelyLazy=function(){var r=!0,v=!1,w=function(a){var g=a.getBoundingClientRect(),h=window.innerWidth,b=g.top,k=g.left,l=g.width,g=g.height;if(b<window.innerHeight&&0<b+g&&k<h&&0<k+l){if(-1!==a.className.indexOf("responsively-lazy-overflown"))for(a=a.parentNode;a&&"BODY"!==a.tagName;){var h=a.scrollLeft,g=a.scrollTop,d=a.getBoundingClientRect(),c=d.top,m=d.left,q=d.height;if(k>m+d.width+h||k+l<m||b>c+q+g||b+q<c)return!1;a=a.parentNode}return!0}return!1},x=function(){var a=function(a,
h){for(var b=a.length,k=0;k<b;k++){var l=a[k],d=h?l:l.parentNode;if(w(d)){var c=l.getAttribute("data-srcset");if(null!==c){for(var c=c.split(","),m=[],q=c.length,p=0;p<q;p++){var e=c[p].trim(),n=e.lastIndexOf(" ");if(-1===n)var f=e,e=999998;else f=e.substr(0,n),e=parseInt(e.substr(n+1,e.length-n-2),10);n=!1;-1!==f.indexOf(".webp",f.length-5)?v&&(n=!0):n=!0;n&&m.push([f,e])}m.sort(function(a,b){if(a[1]<b[1])return-1;if(a[1]>b[1])return 1;if(a[1]===b[1]){if(-1!==b[0].indexOf(".webp",b[0].length-5))return 1;
if(-1!==a[0].indexOf(".webp",a[0].length-5))return-1}return 0});c=m}else c=[];m=d.offsetWidth*window.devicePixelRatio;f=null;q=c.length;for(p=0;p<q;p++)if(e=c[p],e[1]>=m){f=e;break}null===f&&(f=[l.getAttribute("src"),999999]);"undefined"===typeof d.lastSetOption&&(d.lastSetOption=["",0]);d.lastSetOption[1]<f[1]&&(d.lastSetOption=f,l.setAttribute("srcset",f[0]))}}};a(document.querySelectorAll(".responsively-lazy > img"),!1);a(document.querySelectorAll("img.responsively-lazy"),!0)},t=function(){r=!0},
y=function(){for(var a=document.querySelectorAll(".responsively-lazy"),g=a.length,h=0;h<g;h++)for(var b=a[h].parentNode;b&&"HTML"!==b.tagName;)"undefined"===typeof b.responsivelyLazyAttached&&(b.responsivelyLazyAttached=!0,b.addEventListener("scroll",t)),b=b.parentNode};if("srcset"in document.createElement("img")&&"undefined"!==typeof window.devicePixelRatio&&"undefined"!==typeof window.addEventListener&&"undefined"!==typeof document.querySelectorAll){var A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)},z=function(){r&&(r=!1,x());A.call(null,z)},u=new Image;u.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=";u.onload=u.onerror=function(){v=2===u.width;z();var a=function(){window.addEventListener("resize",t);window.addEventListener("scroll",t);window.addEventListener("load",t);y();"undefined"!==typeof MutationObserver&&(new MutationObserver(function(){y();r=!0})).observe(document.querySelector("body"),
{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}}return{run:x,isVisible:w}}();